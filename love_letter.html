<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Baby Jezer ðŸŒ¹</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&display=swap" rel="stylesheet">
    <style>
        /* --- ENVELOPE & LETTER BASE --- */
        :root { --primary-red: #d13447; --dark-red: #8e1d2b; --bg-color: #fce4ec; }
        body { background-color: var(--bg-color); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; overflow: hidden; font-family: 'Georgia', serif; }
        
        .valentine-card { position: relative; width: 550px; height: 380px; cursor: pointer; perspective: 1500px; z-index: 10; transition: opacity 0.8s ease; }
        .envelope { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; }
        .envelope-back { position: absolute; width: 100%; height: 100%; background-color: #6d121d; border-radius: 0 0 15px 15px; z-index: 1; }
        .flap { position: absolute; top: 0; width: 100%; height: 100%; background: var(--primary-red); clip-path: polygon(0% 0%, 100% 0%, 50% 52%); z-index: 5; transform-origin: top; transition: transform 0.8s ease-in-out, z-index 0.1s 0.4s; }
        .open .flap { transform: rotateX(180deg); z-index: 0; }
        .pocket { position: absolute; bottom: 0; width: 100%; height: 100%; background: linear-gradient(to top, var(--dark-red), var(--primary-red)); clip-path: polygon(0% 35%, 50% 75%, 100% 35%, 100% 100%, 0% 100%); border-radius: 0 0 15px 15px; z-index: 4; }
        
        .letter { 
            position: absolute; bottom: 20px; left: 45px; width: 460px; height: 420px; 
            background: white; border-radius: 5px; z-index: 2; opacity: 0; 
            transform: translateY(20px); padding: 40px; 
            transition: transform 1.2s ease-in-out 1.2s, opacity 0.5s ease 1.2s; 
            box-shadow: 0 0 20px rgba(0,0,0,0.1); 
            font-family: 'Dancing Script', cursive; 
            text-align: justify; 
            font-size: 1.2rem;
            line-height: 1.6;
        }
        .letter h2 { text-align: center; margin-bottom: 20px; font-size: 2rem; }
        .open .letter { opacity: 1; transform: translateY(-180px); }

        /* THE ONLY CHANGE: Smaller rose, bottom-right corner */
        #flower-trigger { 
            font-size: 2rem; 
            cursor: pointer; 
            position: absolute;
            bottom: 20px;
            right: 20px;
            transition: transform 0.3s ease;
        }
        #flower-trigger:hover { transform: scale(1.2); }

        /* --- THE TRANSITION OVERLAY --- */
        #flower-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 9999; opacity: 0; transition: opacity 1.2s ease; }
        #flower-overlay.show { display: block; opacity: 1; }

        /* --- YOUR ORIGINAL FLOWER CSS (STRICTLY RESTORED) --- */
        *, *::after, *::before { padding: 0; margin: 0; box-sizing: border-box; }
        :root { --dark-color: #000; }
        .not-loaded * { animation-play-state: paused !important; }
        .night { position: absolute; width: 100%; height: 100%; background-image: radial-gradient(ellipse at top, transparent 0%, var(--dark-color)), radial-gradient(ellipse at bottom, var(--dark-color), rgba(145, 233, 255, 0.2)), repeating-linear-gradient(220deg, black 0px, black 19px, transparent 19px, transparent 22px), repeating-linear-gradient(189deg, black 0px, black 19px, transparent 19px, transparent 22px), repeating-linear-gradient(148deg, black 0px, black 19px, transparent 19px, transparent 22px), linear-gradient(90deg, #00fffa, #f0f0f0); }
        .flowers { position: relative; display: flex; align-items: flex-end; justify-content: center; min-height: 100vh; transform: scale(0.9); }
        .flower { position: absolute; bottom: 10vmin; transform-origin: bottom center; z-index: 10; --fl-speed: 0.8s; }
        .flower--1 { animation: moving-flower-1 4s linear infinite; }
        .flower--1 .flower__line { height: 70vmin; animation-delay: 0.3s; }
        .flower--1 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 1.6s backwards; }
        .flower--1 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 1.4s backwards; }
        .flower--1 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 1.2s backwards; }
        .flower--1 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1s backwards; }
        .flower--1 .flower__line__leaf--5 { animation: blooming-leaf-right var(--fl-speed) 1.8s backwards; }
        .flower--1 .flower__line__leaf--6 { animation: blooming-leaf-left var(--fl-speed) 2s backwards; }
        .flower--2 { left: 50%; transform: rotate(20deg); animation: moving-flower-2 4s linear infinite; }
        .flower--2 .flower__line { height: 60vmin; animation-delay: 0.6s; }
        .flower--3 { left: 50%; transform: rotate(-20deg); animation: moving-flower-3 4s linear infinite; }
        .flower--3 .flower__line { height: 55vmin; animation-delay: 0.9s; }
        .flower__leafs { position: relative; animation: blooming-flower 2s backwards; }
        .flower__leafs--1 { animation-delay: 1.1s; }
        .flower__leafs--2 { animation-delay: 1.4s; }
        .flower__leafs--3 { animation-delay: 1.7s; }
        .flower__leafs::after { content: ""; position: absolute; left: 0; top: 0; transform: translate(-50%, -100%); width: 8vmin; height: 8vmin; background-color: #6bf0ff; filter: blur(10vmin); }
        .flower__leaf { position: absolute; bottom: 0; left: 50%; width: 8vmin; height: 11vmin; border-radius: 51% 49% 47% 53%/44% 45% 55% 69%; background-color: #65e6cc; background-image: linear-gradient(to top, #40bbab, #a7ffee); transform-origin: bottom center; opacity: 0.9; box-shadow: inset 0 0 2vmin rgba(255, 255, 255, 0.5); }
        .flower__leaf--1 { transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg); }
        .flower__leaf--2 { transform: translate(-50%, -4%) rotateX(40deg); }
        .flower__leaf--3 { transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg); }
        .flower__leaf--4 { width: 8vmin; height: 8vmin; transform-origin: bottom left; border-radius: 4vmin 10vmin 4vmin 4vmin; transform: translate(0%, 18%) rotateX(70deg) rotate(-43deg); background-image: linear-gradient(to top, #39c6d6, #a7ffee); z-index: 1; opacity: 0.8; }
        .flower__white-circle { position: absolute; left: -3.5vmin; top: -3vmin; width: 9vmin; height: 4vmin; border-radius: 50%; background-color: #fff; }
        .flower__white-circle::after { content: ""; position: absolute; left: 50%; top: 45%; transform: translate(-50%, -50%); width: 60%; height: 60%; border-radius: inherit; background-image: repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px,transparent 1px,transparent 12px), repeating-linear-gradient(45deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px,transparent 1px,transparent 12px), linear-gradient(90deg, #ffeb12, #ffce00); }
        .flower__line { height: 55vmin; width: 1.5vmin; background-image: linear-gradient(to left, rgba(0,0,0,0.2), transparent, rgba(255,255,255,0.2)), linear-gradient(to top, transparent 10%, #14757a, #39c6d6); box-shadow: inset 0 0 2px rgba(0,0,0,0.5); animation: grow-flower-tree 4s backwards; }
        .flower__line__leaf { --w: 7vmin; --h: calc(var(--w) + 2vmin); position: absolute; top: 20%; left: 90%; width: var(--w); height: var(--h); border-top-right-radius: var(--h); border-bottom-left-radius: var(--h); background-image: linear-gradient(to top, rgba(20,117,122,0.4), #39c6d6); }
        .flower__line__leaf--1 { transform: rotate(70deg) rotateY(30deg); }
        .flower__line__leaf--2 { top: 45%; transform: rotate(70deg) rotateY(30deg); }
        .flower__line__leaf--3, .flower__line__leaf--4, .flower__line__leaf--6 { border-top-right-radius: 0; border-bottom-left-radius: 0; border-top-left-radius: var(--h); border-bottom-right-radius: var(--h); left: -460%; top: 12%; transform: rotate(-70deg) rotateY(30deg); }
        .flower__line__leaf--4 { top: 40%; }
        .flower__light { position: absolute; bottom: 0vmin; width: 1vmin; height: 1vmin; background-color: #fffb00; border-radius: 50%; filter: blur(0.2vmin); animation: light-ans 4s linear infinite backwards; }
        @keyframes blooming-flower { 0% { transform: scale(0); opacity: 0; } }
        @keyframes grow-flower-tree { 0% { height: 0; opacity: 0; } }
        @keyframes blooming-leaf-right { 0% { transform-origin: left; transform: rotate(70deg) rotateY(30deg) scale(0); } }
        @keyframes blooming-leaf-left { 0% { transform-origin: right; transform: rotate(-70deg) rotateY(30deg) scale(0); } }
        @keyframes moving-flower-1 { 0%, 100% { transform: rotate(2deg); } 50% { transform: rotate(-2deg); } }
        @keyframes moving-flower-2 { 0%, 100% { transform: rotate(18deg); } 50% { transform: rotate(14deg); } }
        @keyframes moving-flower-3 { 0%, 100% { transform: rotate(-18deg); } 50% { transform: rotate(-14deg); } }
        @keyframes light-ans { 0% { opacity: 0; transform: translateY(0); } 50% { opacity: 1; } 100% { opacity: 0; transform: translateY(-20vmin); } }
        
        #close-btn { position: absolute; top: 20px; right: 20px; z-index: 10000; padding: 10px 20px; background: var(--primary-red); color: white; border: none; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body class="not-loaded">

    <audio id="valentineMusic" loop>
        <source src="rach.mp3" type="audio/mpeg">
    </audio>

    <div class="valentine-card" id="mainCard" onclick="this.classList.add('open')">
        <div class="envelope">
            <div class="envelope-back"></div>
            <div class="letter">
                <h2 style="color: var(--dark-red); margin-top: 0;">Hi baby Jezer!</h2>
                <p>Happy Valentines, eto na lng kaya ko ibigay as your computer engineer husband hahahaha.</p>
                <p>Im so glad youâ€™re in my life baby, sana magkita na tayo Im so eager to see you na and do those dates we wanted to do. Distance really challenge us but I hope this challenge makes us stronger and will not stop the love weâ€™re having (so bad sa english sorry). I love you so much baby, at dahil hindi kita pwede pa dalhan ng flowers eto na lng click mo yang rose sa gilid</p>
                <div id="flower-trigger">ðŸŒ¹</div>
            </div>
            <div class="pocket"></div>
            <div class="flap"></div>
        </div>
    </div>

    <div id="flower-overlay">
        <button id="close-btn">Back to Letter</button>
        <div class="night"></div>
        <div class="flowers">
            <div class="flower flower--1">
                <div class="flower__leafs flower__leafs--1">
                    <div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div><div class="flower__light flower__light--2"></div><div class="flower__light flower__light--3"></div><div class="flower__light flower__light--4"></div><div class="flower__light flower__light--5"></div><div class="flower__light flower__light--6"></div><div class="flower__light flower__light--7"></div><div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div><div class="flower__line__leaf flower__line__leaf--2"></div><div class="flower__line__leaf flower__line__leaf--3"></div><div class="flower__line__leaf flower__line__leaf--4"></div><div class="flower__line__leaf flower__line__leaf--5"></div><div class="flower__line__leaf flower__line__leaf--6"></div>
                </div>
            </div>
            <div class="flower flower--2">
                <div class="flower__leafs flower__leafs--2">
                    <div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div><div class="flower__line__leaf flower__line__leaf--2"></div><div class="flower__line__leaf flower__line__leaf--3"></div><div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
            </div>
            <div class="flower flower--3">
                <div class="flower__leafs flower__leafs--3">
                    <div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div><div class="flower__line__leaf flower__line__leaf--2"></div><div class="flower__line__leaf flower__line__leaf--3"></div><div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const music = document.getElementById('valentineMusic');
        const trigger = document.getElementById('flower-trigger');
        const overlay = document.getElementById('flower-overlay');
        const card = document.getElementById('mainCard');

        function fadeInAudio(audio) {
            audio.volume = 0;
            audio.play();
            let vol = 0;
            const interval = setInterval(() => {
                if (vol < 1) { vol += 0.05; audio.volume = Math.min(vol, 1); }
                else { clearInterval(interval); }
            }, 150);
        }

        trigger.addEventListener('click', (e) => {
            e.stopPropagation();
            card.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'block';
                fadeInAudio(music);
                setTimeout(() => {
                    overlay.classList.add('show');
                    document.body.classList.remove("not-loaded");
                }, 50);
            }, 800);
        });

        document.getElementById('close-btn').addEventListener('click', () => {
            overlay.classList.remove('show');
            setTimeout(() => {
                overlay.style.display = 'none';
                card.style.opacity = '1';
                document.body.classList.add("not-loaded");
            }, 1000);
        });
    </script>
</body>
</html>